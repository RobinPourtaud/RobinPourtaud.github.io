---
title: Recevoir des notifications par mail en PHP grâce à IFTTT
author: Robin Pourtaud
type: post
date: 2020-04-23T11:55:17+00:00
url: /sciences/informatique/robin/998/
featured_image: /wp-content/uploads/2020/04/code_coding_web_development_web_developer_web_development_technology_programming_code-1066093-1.jpg
rank_math_seo_score:
  - "75"
rank_math_internal_links_processed:
  - "1"
um_content_restriction:
  - 'a:8:{s:26:"_um_custom_access_settings";s:1:"0";s:14:"_um_accessible";s:1:"0";s:19:"_um_noaccess_action";s:1:"0";s:30:"_um_restrict_by_custom_message";s:1:"0";s:27:"_um_restrict_custom_message";s:0:"";s:19:"_um_access_redirect";s:1:"0";s:23:"_um_access_redirect_url";s:0:"";s:28:"_um_access_hide_from_queries";s:1:"0";}'
rank_math_focus_keyword:
  - php
rank_math_robots:
  - 'a:1:{i:0;s:5:"index";}'
ampforwp-amp-on-off:
  - default
ads-for-wp-visibility:
  - show
itemlist_item_1493:
  - 'a:0:{}'
music_composer_1493:
  - 'a:0:{}'
movie_actor_1493:
  - 'a:0:{}'
article_items_1493:
  - 'a:0:{}'
image_object_exif_data_1493:
  - 'a:0:{}'
blogposting_items_1493:
  - 'a:0:{}'
newsarticle_items_1493:
  - 'a:0:{}'
tech_article_items_1493:
  - 'a:0:{}'
product_reviews_1493:
  - 'a:0:{}'
feed_element_1493:
  - 'a:0:{}'
faq_question_1493:
  - 'a:0:{}'
performer_1493:
  - 'a:0:{}'
accepted_answer_1493:
  - 'a:0:{}'
suggested_answer_1493:
  - 'a:0:{}'
howto_supply_1493:
  - 'a:0:{}'
howto_tool_1493:
  - 'a:0:{}'
howto_step_1493:
  - 'a:0:{}'
announcement_location_1493:
  - 'a:0:{}'
music_playlist_track_1493:
  - 'a:0:{}'
music_album_track_1493:
  - 'a:0:{}'
apartment_amenities_1493:
  - 'a:0:{}'
additional_property_1493:
  - 'a:0:{}'
mc_cause_1493:
  - 'a:0:{}'
mc_symptom_1493:
  - 'a:0:{}'
mc_risk_factor_1493:
  - 'a:0:{}'
tvseries_actor_1493:
  - 'a:0:{}'
tvseries_season_1493:
  - 'a:0:{}'
trip_itinerary_1493:
  - 'a:0:{}'
rank_math_primary_category:
  - "8"
itemlist_item_1877:
  - 'a:0:{}'
music_composer_1877:
  - 'a:0:{}'
movie_actor_1877:
  - 'a:0:{}'
article_items_1877:
  - 'a:0:{}'
image_object_exif_data_1877:
  - 'a:0:{}'
blogposting_items_1877:
  - 'a:0:{}'
newsarticle_items_1877:
  - 'a:0:{}'
tech_article_items_1877:
  - 'a:0:{}'
product_reviews_1877:
  - 'a:0:{}'
feed_element_1877:
  - 'a:0:{}'
faq_question_1877:
  - 'a:0:{}'
performer_1877:
  - 'a:0:{}'
organizer_1877:
  - 'a:0:{}'
accepted_answer_1877:
  - 'a:0:{}'
suggested_answer_1877:
  - 'a:0:{}'
howto_supply_1877:
  - 'a:0:{}'
howto_tool_1877:
  - 'a:0:{}'
howto_step_1877:
  - 'a:0:{}'
announcement_location_1877:
  - 'a:0:{}'
music_playlist_track_1877:
  - 'a:0:{}'
music_album_track_1877:
  - 'a:0:{}'
apartment_amenities_1877:
  - 'a:0:{}'
additional_property_1877:
  - 'a:0:{}'
mc_cause_1877:
  - 'a:0:{}'
mc_symptom_1877:
  - 'a:0:{}'
mc_risk_factor_1877:
  - 'a:0:{}'
tvseries_actor_1877:
  - 'a:0:{}'
tvseries_season_1877:
  - 'a:0:{}'
trip_itinerary_1877:
  - 'a:0:{}'
itemlist_item_1494:
  - 'a:0:{}'
music_composer_1494:
  - 'a:0:{}'
movie_actor_1494:
  - 'a:0:{}'
article_items_1494:
  - 'a:0:{}'
image_object_exif_data_1494:
  - 'a:0:{}'
blogposting_items_1494:
  - 'a:0:{}'
newsarticle_items_1494:
  - 'a:0:{}'
tech_article_items_1494:
  - 'a:0:{}'
product_reviews_1494:
  - 'a:0:{}'
feed_element_1494:
  - 'a:0:{}'
faq_question_1494:
  - 'a:0:{}'
performer_1494:
  - 'a:0:{}'
organizer_1494:
  - 'a:0:{}'
accepted_answer_1494:
  - 'a:0:{}'
suggested_answer_1494:
  - 'a:0:{}'
howto_supply_1494:
  - 'a:0:{}'
howto_tool_1494:
  - 'a:0:{}'
howto_step_1494:
  - 'a:0:{}'
announcement_location_1494:
  - 'a:0:{}'
music_playlist_track_1494:
  - 'a:0:{}'
music_album_track_1494:
  - 'a:0:{}'
apartment_amenities_1494:
  - 'a:0:{}'
additional_property_1494:
  - 'a:0:{}'
mc_cause_1494:
  - 'a:0:{}'
mc_symptom_1494:
  - 'a:0:{}'
mc_risk_factor_1494:
  - 'a:0:{}'
tvseries_actor_1494:
  - 'a:0:{}'
tvseries_season_1494:
  - 'a:0:{}'
trip_itinerary_1494:
  - 'a:0:{}'
organizer_1493:
  - 'a:0:{}'
rank_math_analytic_object_id:
  - "93"
categories:
  - Informatique
tags:
  - iftt
  - Mail
  - php
  - Tutoriel

---
Il existe de nombreuses méthodes pour recevoir les notifications de son site web grâce à PHP. Aujourd&rsquo;hui je vais vous montrer comment recevoir des mails grâce à IFTTT en moins de 10 min.

## Paramétrer IFTTT :

  1. Connectez-vous à l’adresse <https://ifttt.com/> .
  2. Inscrivez-vous si ce n&rsquo;est pas déjà fais.
  3. Appuyez sur votre photo de profil en haut à gauche, puis appuyez sur « Create ».
  4. Appuyez sur « This » puis sélectionnez le service « Webhooks ».
  5. Choisissez l&rsquo;Event Name de votre choix. Pour ma part, ce sera « iftttmessage ».
  6. Appuyez sur « That » puis sélectionnez « Email ».
  7. Personnalisez le body, le subject comme vous le souhaitez. Gardez juste bien en tête que « Value1 » contiendra le message qu&rsquo;on voudra envoyer.

<div class="wp-block-image">
  <figure class="aligncenter size-large is-resized"><img loading="lazy" src="https://keskec.fr/wp-content/uploads/2020/05/image-1-1.png" alt="" class="wp-image-1460" width="280" height="395" srcset="https://keskec.fr/wp-content/uploads/2020/05/image-1-1.png 497w, https://keskec.fr/wp-content/uploads/2020/05/image-1-1-213x300.png 213w" sizes="(max-width: 280px) 100vw, 280px" /><figcaption>Contenu Message IFTTT</figcaption></figure>
</div>

<ol start="8">
  <li>
    Appuyez sur « Finish »
  </li>
  <li>
    Allez sur le lien suivant: <a href="https://ifttt.com/maker_webhooks/settings">https://ifttt.com/maker_webhooks/settings</a>
  </li>
  <li>
    Devant URL, vous devriez pouvoir voir votre clé ! Gardez-la précieusement.
  </li>
  <li>
    Fini pour la configuration de IFTTT
  </li>
</ol>

## Création d&rsquo;une fonction PHP :

<pre class="wp-block-code" aria-describedby="shcb-language-44" data-shcb-language-name="PHP" data-shcb-language-slug="php"><div>
  <code class="hljs language-php">&lt;span class="hljs-meta">&lt;?php&lt;/span>
  &lt;span class="hljs-function">&lt;span class="hljs-keyword">function&lt;/span> &lt;span class="hljs-title">msg&lt;/span>&lt;span class="hljs-params">($message)&lt;/span>&lt;/span>{
   $msgmodify=rawurlencode($message); 
   $key=&lt;span class="hljs-string">"KEY"&lt;/span>; &lt;span class="hljs-comment">//Ajouté votre clé&lt;/span>
   $eventname=&lt;span class="hljs-string">"EVENT NAME"&lt;/span>; &lt;span class="hljs-comment">//Ajouté votre nom d’événement &lt;/span>
   file_get_contents(&lt;span class="hljs-string">"https://maker.ifttt.com/trigger/$eventname/with/key/"&lt;/span>.$key.&lt;span class="hljs-string">"?value1="&lt;/span>.$msgmodify.&lt;span class="hljs-string">""&lt;/span>);
  }
  &lt;span class="hljs-meta">?&gt;&lt;/span></code>
</div>

<small class="shcb-language" id="shcb-language-44"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">PHP</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">php</span><span class="shcb-language__paren">)</span></small></pre>

En incluant cette fonction dans le reste de votre code, vous pourrez facilement envoyer des messages comme ceci : 

<pre class="wp-block-code" aria-describedby="shcb-language-45" data-shcb-language-name="PHP" data-shcb-language-slug="php"><div>
  <code class="hljs language-php">msg(&lt;span class="hljs-string">"Bonjour, voici un message"&lt;/span>);</code>
</div>

<small class="shcb-language" id="shcb-language-45"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">PHP</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">php</span><span class="shcb-language__paren">)</span></small></pre>

## Résultat :

Si vous avez bien tout suivi, à l’exécution de la fonction msg, vous devriez recevoir un mail de « action@ifttt.com » de ce style : <figure class="wp-block-table">

<table>
  <tr>
    <td>
      What: iftttmessage<br />When: April 27, 2020 at 11:08AM<br />Content: Bonjour, voici un message
    </td>
  </tr>
</table><figcaption>Mail envoyé depuis un server Web</figcaption></figure>