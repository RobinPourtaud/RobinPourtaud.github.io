---
title: 'Seuillage d&rsquo;image en Python3'
author: Robin Pourtaud
type: post
date: 2020-06-17T11:00:00+00:00
url: /sciences/informatique/robin/2524/
featured_image: /wp-content/uploads/2020/06/téléchargement-1568x1180.png
rank_math_seo_score:
  - "84"
rank_math_primary_category:
  - "8"
itemlist_item_1877:
  - 'a:0:{}'
music_composer_1877:
  - 'a:0:{}'
movie_actor_1877:
  - 'a:0:{}'
article_items_1877:
  - 'a:0:{}'
image_object_exif_data_1877:
  - 'a:0:{}'
blogposting_items_1877:
  - 'a:0:{}'
newsarticle_items_1877:
  - 'a:0:{}'
tech_article_items_1877:
  - 'a:0:{}'
product_reviews_1877:
  - 'a:0:{}'
feed_element_1877:
  - 'a:0:{}'
faq_question_1877:
  - 'a:0:{}'
performer_1877:
  - 'a:0:{}'
organizer_1877:
  - 'a:0:{}'
accepted_answer_1877:
  - 'a:0:{}'
suggested_answer_1877:
  - 'a:0:{}'
howto_supply_1877:
  - 'a:0:{}'
howto_tool_1877:
  - 'a:0:{}'
howto_step_1877:
  - 'a:0:{}'
announcement_location_1877:
  - 'a:0:{}'
music_playlist_track_1877:
  - 'a:0:{}'
music_album_track_1877:
  - 'a:0:{}'
apartment_amenities_1877:
  - 'a:0:{}'
additional_property_1877:
  - 'a:0:{}'
mc_cause_1877:
  - 'a:0:{}'
mc_symptom_1877:
  - 'a:0:{}'
mc_risk_factor_1877:
  - 'a:0:{}'
tvseries_actor_1877:
  - 'a:0:{}'
tvseries_season_1877:
  - 'a:0:{}'
trip_itinerary_1877:
  - 'a:0:{}'
itemlist_item_1494:
  - 'a:0:{}'
music_composer_1494:
  - 'a:0:{}'
movie_actor_1494:
  - 'a:0:{}'
article_items_1494:
  - 'a:0:{}'
image_object_exif_data_1494:
  - 'a:0:{}'
blogposting_items_1494:
  - 'a:0:{}'
newsarticle_items_1494:
  - 'a:0:{}'
tech_article_items_1494:
  - 'a:0:{}'
product_reviews_1494:
  - 'a:0:{}'
feed_element_1494:
  - 'a:0:{}'
faq_question_1494:
  - 'a:0:{}'
performer_1494:
  - 'a:0:{}'
organizer_1494:
  - 'a:0:{}'
accepted_answer_1494:
  - 'a:0:{}'
suggested_answer_1494:
  - 'a:0:{}'
howto_supply_1494:
  - 'a:0:{}'
howto_tool_1494:
  - 'a:0:{}'
howto_step_1494:
  - 'a:0:{}'
announcement_location_1494:
  - 'a:0:{}'
music_playlist_track_1494:
  - 'a:0:{}'
music_album_track_1494:
  - 'a:0:{}'
apartment_amenities_1494:
  - 'a:0:{}'
additional_property_1494:
  - 'a:0:{}'
mc_cause_1494:
  - 'a:0:{}'
mc_symptom_1494:
  - 'a:0:{}'
mc_risk_factor_1494:
  - 'a:0:{}'
tvseries_actor_1494:
  - 'a:0:{}'
tvseries_season_1494:
  - 'a:0:{}'
trip_itinerary_1494:
  - 'a:0:{}'
itemlist_item_1493:
  - 'a:0:{}'
music_composer_1493:
  - 'a:0:{}'
movie_actor_1493:
  - 'a:0:{}'
article_items_1493:
  - 'a:0:{}'
image_object_exif_data_1493:
  - 'a:0:{}'
blogposting_items_1493:
  - 'a:0:{}'
newsarticle_items_1493:
  - 'a:0:{}'
tech_article_items_1493:
  - 'a:0:{}'
product_reviews_1493:
  - 'a:0:{}'
feed_element_1493:
  - 'a:0:{}'
faq_question_1493:
  - 'a:0:{}'
performer_1493:
  - 'a:0:{}'
organizer_1493:
  - 'a:0:{}'
accepted_answer_1493:
  - 'a:0:{}'
suggested_answer_1493:
  - 'a:0:{}'
howto_supply_1493:
  - 'a:0:{}'
howto_tool_1493:
  - 'a:0:{}'
howto_step_1493:
  - 'a:0:{}'
announcement_location_1493:
  - 'a:0:{}'
music_playlist_track_1493:
  - 'a:0:{}'
music_album_track_1493:
  - 'a:0:{}'
apartment_amenities_1493:
  - 'a:0:{}'
additional_property_1493:
  - 'a:0:{}'
mc_cause_1493:
  - 'a:0:{}'
mc_symptom_1493:
  - 'a:0:{}'
mc_risk_factor_1493:
  - 'a:0:{}'
tvseries_actor_1493:
  - 'a:0:{}'
tvseries_season_1493:
  - 'a:0:{}'
trip_itinerary_1493:
  - 'a:0:{}'
rank_math_internal_links_processed:
  - "1"
ampforwp-amp-on-off:
  - default
rank_math_focus_keyword:
  - Seuillage
ads-for-wp-visibility:
  - show
itemlist_item_2757:
  - 'a:0:{}'
music_composer_2757:
  - 'a:0:{}'
movie_actor_2757:
  - 'a:0:{}'
article_items_2757:
  - 'a:0:{}'
image_object_exif_data_2757:
  - 'a:0:{}'
blogposting_items_2757:
  - 'a:0:{}'
newsarticle_items_2757:
  - 'a:0:{}'
tech_article_items_2757:
  - 'a:0:{}'
product_reviews_2757:
  - 'a:0:{}'
feed_element_2757:
  - 'a:0:{}'
faq_question_2757:
  - 'a:0:{}'
performer_2757:
  - 'a:0:{}'
organizer_2757:
  - 'a:0:{}'
accepted_answer_2757:
  - 'a:0:{}'
suggested_answer_2757:
  - 'a:0:{}'
howto_supply_2757:
  - 'a:0:{}'
howto_tool_2757:
  - 'a:0:{}'
howto_step_2757:
  - 'a:0:{}'
announcement_location_2757:
  - 'a:0:{}'
music_playlist_track_2757:
  - 'a:0:{}'
music_album_track_2757:
  - 'a:0:{}'
apartment_amenities_2757:
  - 'a:0:{}'
additional_property_2757:
  - 'a:0:{}'
mc_cause_2757:
  - 'a:0:{}'
mc_symptom_2757:
  - 'a:0:{}'
mc_risk_factor_2757:
  - 'a:0:{}'
tvseries_actor_2757:
  - 'a:0:{}'
tvseries_season_2757:
  - 'a:0:{}'
trip_itinerary_2757:
  - 'a:0:{}'
rank_math_analytic_object_id:
  - "51"
categories:
  - Informatique
tags:
  - Numpy
  - Python
  - Tutoriel

---
Le seuillage est une technique de traitement d&rsquo;image permettant l&rsquo;attribution de chaque pixel soit à une couleur, soit à une autre, selon un seuil. Plus explicitement : 



## Définition 

Soit<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-7c3104813be0ed1b8f63677168ee3dad_l3.svg" class="ql-img-inline-formula " alt="&#102;" title="Rendered by QuickLaTeX.com" height="18" width="10" style="vertical-align: -4px;" /> , une image composée de<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-1c285dc21a88a8bc33b1a9cb8991aaa9_l3.svg" class="ql-img-inline-formula " alt="&#110;" title="Rendered by QuickLaTeX.com" height="9" width="12" style="vertical-align: 0px;" /> lignes et<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-11cb60d3283f349e46f8d3da22d63244_l3.svg" class="ql-img-inline-formula " alt="&#109;" title="Rendered by QuickLaTeX.com" height="9" width="17" style="vertical-align: 0px;" /> colonnes,<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-0196f635f02e99e5757299d81158a820_l3.svg" class="ql-img-inline-formula " alt="&#92;&#102;&#111;&#114;&#97;&#108;&#108;&#32;&#105;&#32;&#92;&#105;&#110;&#32;&#91;&#48;&#44;&#110;&#93;" title="Rendered by QuickLaTeX.com" height="20" width="83" style="vertical-align: -5px;" /> et<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-5a73593806633c60832d0d6f6653dcf0_l3.svg" class="ql-img-inline-formula " alt="&#92;&#102;&#111;&#114;&#97;&#108;&#108;&#32;&#106;&#32;&#92;&#105;&#110;&#32;&#91;&#48;&#44;&#109;&#93;" title="Rendered by QuickLaTeX.com" height="20" width="91" style="vertical-align: -5px;" /> . 

Soit<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-994a3b353a3f933d466fc144d84d2550_l3.svg" class="ql-img-inline-formula " alt="&#102;&#40;&#105;&#44;&#106;&#41;" title="Rendered by QuickLaTeX.com" height="20" width="50" style="vertical-align: -5px;" /> l&rsquo;intensité d&rsquo;un pixel. C&rsquo;est à dire la valeur maximale du triplet<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-795112a687b194380b1434f833d7ce28_l3.svg" class="ql-img-inline-formula " alt="&#91;&#82;&#44;&#71;&#44;&#66;&#93;" title="Rendered by QuickLaTeX.com" height="20" width="73" style="vertical-align: -5px;" /> associée au pixel. 

Soit un seuil<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-da70d9d6a100013a05fc04d08bffd1ed_l3.svg" class="ql-img-inline-formula " alt="&#115;&#32;&#92;&#105;&#110;&#32;&#91;&#48;&#44;&#50;&#53;&#53;&#93;" title="Rendered by QuickLaTeX.com" height="20" width="91" style="vertical-align: -5px;" /> .

Alors le seuillage de l&rsquo;image f serait équivalent à une fonction<img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-d48be3ec467471a9f25014cfe6fa723c_l3.svg" class="ql-img-inline-formula " alt="&#103;" title="Rendered by QuickLaTeX.com" height="13" width="10" style="vertical-align: -4px;" /> tel que :

<p class="has-text-align-center">
  <img loading="lazy" src="https://keskec.fr/wp-content/ql-cache/quicklatex.com-de1e8627bf65f4ca6a9697f8eafb25a4_l3.svg" class="ql-img-inline-formula " alt="&#103;&#40;&#105;&#44;&#106;&#41;&#32;&#61;&#32;&#92;&#108;&#101;&#102;&#116;&#92;&#123;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#123;&#108;&#108;&#125;&#50;&#53;&#53;&#32;&#38;&#32;&#92;&#109;&#98;&#111;&#120;&#123;&#115;&#105;&#32;&#125;&#32;&#102;&#40;&#105;&#44;&#106;&#41;&#32;&#92;&#108;&#101;&#113;&#32;&#115;&#32;&#92;&#48;&#32;&#38;&#32;&#92;&#109;&#98;&#111;&#120;&#123;&#115;&#105;&#110;&#111;&#110;&#46;&#125;&#92;&#101;&#110;&#100;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#92;&#114;&#105;&#103;&#104;&#116;&#46;" title="Rendered by QuickLaTeX.com" height="48" width="280" style="vertical-align: -19px;" />
</p>

## Nécessaire 

### Python 3 : 

Pour suivre ce tutoriel, vous devez avoir installé Python 3 ainsi que le package numpy. 

J&rsquo;utiliserai personnellement le « Jupyter notebook » de Google : [Google Colab][1]{.rank-math-link.rank-math-link}.

### Article précédent sur les bitmaps en python : 

<p class="has-text-align-center">
  <a href="https://keskec.fr/sciences/informatique/robin/2137/" class="rank-math-link">Modifier la Bitmap d’une image avec Python 3</a>
</p>

## Fonction de seuillage

Tout d&rsquo;abord, il nous faut une image. Pour cela, je vous suggère de télécharger celle-ci comme ceci : 

<pre class="wp-block-code" aria-describedby="shcb-language-90" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">&lt;span class="hljs-keyword">import&lt;/span> numpy &lt;span class="hljs-keyword">as&lt;/span> np
  &lt;span class="hljs-keyword">from&lt;/span> PIL &lt;span class="hljs-keyword">import&lt;/span> Image
  &lt;span class="hljs-keyword">import&lt;/span> requests
  &lt;span class="hljs-keyword">from&lt;/span> io &lt;span class="hljs-keyword">import&lt;/span> BytesIO
  
  Url = &lt;span class="hljs-string">'https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-1024x771.jpg'&lt;/span>
  
  response = requests.get(Url)
  ImgDL = Image.open(BytesIO(response.content))</code>
</div>

<small class="shcb-language" id="shcb-language-90"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

### La fonction : 

Il existe plein de façon d&rsquo;effectuer un seuillage en python, je vous propose celle-ci : 

<pre class="wp-block-code" aria-describedby="shcb-language-91" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">&lt;span class="hljs-function">&lt;span class="hljs-keyword">def&lt;/span> &lt;span class="hljs-title">Seuillage&lt;/span>&lt;span class="hljs-params">(Img:Image, s:int)&lt;/span>-&gt;Image:&lt;/span>
    newImg = np.copy(Img)
    &lt;span class="hljs-keyword">for&lt;/span> i &lt;span class="hljs-keyword">in&lt;/span> range(len(newImg)):
      &lt;span class="hljs-keyword">for&lt;/span> j &lt;span class="hljs-keyword">in&lt;/span> range(len(newImg[&lt;span class="hljs-number">0&lt;/span>])):
        x = newImg[i,j,&lt;span class="hljs-number">0&lt;/span>]
        y = newImg[i,j,&lt;span class="hljs-number">1&lt;/span>]
        z = newImg[i,j,&lt;span class="hljs-number">2&lt;/span>]
  
        &lt;span class="hljs-keyword">if&lt;/span> x &lt; s &lt;span class="hljs-keyword">or&lt;/span> y &lt; s &lt;span class="hljs-keyword">or&lt;/span> z &lt; s : 
          newImg[i,j,&lt;span class="hljs-number">0&lt;/span>:] = &lt;span class="hljs-number">0&lt;/span>
  
        &lt;span class="hljs-keyword">else&lt;/span> : 
          newImg[i,j,&lt;span class="hljs-number">0&lt;/span>:] = &lt;span class="hljs-number">255&lt;/span>
  
    &lt;span class="hljs-keyword">return&lt;/span> Image.fromarray(newImg, &lt;span class="hljs-string">'RGB'&lt;/span>)</code>
</div>

<small class="shcb-language" id="shcb-language-91"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

Un exemple d&rsquo;utilisation de cette fonction serait : 

<pre class="wp-block-code" aria-describedby="shcb-language-92" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">Seuillage(ImgDL,&lt;span class="hljs-number">90&lt;/span>)</code>
</div>

<small class="shcb-language" id="shcb-language-92"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

### Le résultat : 

<div class="wp-block-columns">
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="771" src="https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-1024x771.jpg" alt="Seuillage" class="wp-image-2983" srcset="https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-1024x771.jpg 1024w, https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-300x226.jpg 300w, https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-768x578.jpg 768w, https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-1536x1156.jpg 1536w, https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-2048x1542.jpg 2048w, https://keskec.fr/wp-content/uploads/2020/05/autumn-autumn-leaves-beautiful-color-206648-1568x1180.jpg 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Image originale</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="771" src="https://keskec.fr/wp-content/uploads/2020/06/téléchargement-1024x771.png" alt="Seuillage" class="wp-image-2984" srcset="https://keskec.fr/wp-content/uploads/2020/06/téléchargement-1024x771.png 1024w, https://keskec.fr/wp-content/uploads/2020/06/téléchargement-300x226.png 300w, https://keskec.fr/wp-content/uploads/2020/06/téléchargement-768x578.png 768w, https://keskec.fr/wp-content/uploads/2020/06/téléchargement-1536x1156.png 1536w, https://keskec.fr/wp-content/uploads/2020/06/téléchargement-1568x1180.png 1568w, https://keskec.fr/wp-content/uploads/2020/06/téléchargement.png 1993w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Seuillage d&rsquo;image (seuil = 110)</figcaption></figure>
  </div>
</div>

Faire varier le seuil entre 0 et 255 peut permettre d&rsquo;obtenir de nombreuses images très intéressantes : 

<div class="wp-block-columns">
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="771" src="https://keskec.fr/wp-content/uploads/2020/06/image-4.png" alt="" class="wp-image-3022" srcset="https://keskec.fr/wp-content/uploads/2020/06/image-4.png 1024w, https://keskec.fr/wp-content/uploads/2020/06/image-4-300x226.png 300w, https://keskec.fr/wp-content/uploads/2020/06/image-4-768x578.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Seuille = 20</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="771" src="https://keskec.fr/wp-content/uploads/2020/06/image-5.png" alt="" class="wp-image-3024" srcset="https://keskec.fr/wp-content/uploads/2020/06/image-5.png 1024w, https://keskec.fr/wp-content/uploads/2020/06/image-5-300x226.png 300w, https://keskec.fr/wp-content/uploads/2020/06/image-5-768x578.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Seuille = 70</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="771" src="https://keskec.fr/wp-content/uploads/2020/06/image-6.png" alt="godwAXz22AAAAAElFTkSuQmCC (1024×771)" class="wp-image-3025" srcset="https://keskec.fr/wp-content/uploads/2020/06/image-6.png 1024w, https://keskec.fr/wp-content/uploads/2020/06/image-6-300x226.png 300w, https://keskec.fr/wp-content/uploads/2020/06/image-6-768x578.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Seuille = 140</figcaption></figure>
  </div>
</div>

## Le code source sur Github 

<p class="has-text-align-center">
  <a href="https://gist.github.com/RobinPourtaud/274589130004ef89eb83569019bfeca6#file-seuillage-keskec-ipynb" class="rank-math-link"><strong>seuillage-keskec.ipynb</strong></a>
</p>

## Sources 

  1. [Seuillage d&rsquo;image &#8211; Wikipédia][2]{.rank-math-link}
  2. [Forum Développez.net][3]{.rank-math-link}

 [1]: https://colab.research.google.com/
 [2]: https://fr.wikipedia.org/wiki/Seuillage_d%27image
 [3]: https://www.developpez.net/forums/d1424637/autres-langages/python/calcul-scientifique/seuillage-d-image-rgb/