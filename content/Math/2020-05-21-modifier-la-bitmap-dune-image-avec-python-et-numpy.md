---
title: 'Modifier la Bitmap d&rsquo;une image avec Python 3'
author: Robin Pourtaud
type: post
date: 2020-05-21T09:00:00+00:00
url: /sciences/informatique/robin/2137/
featured_image: /wp-content/uploads/2020/05/Chat-Surpris-Neg-1568x1045.png
rank_math_primary_category:
  - "8"
itemlist_item_1877:
  - 'a:0:{}'
music_composer_1877:
  - 'a:0:{}'
movie_actor_1877:
  - 'a:0:{}'
article_items_1877:
  - 'a:0:{}'
image_object_exif_data_1877:
  - 'a:0:{}'
blogposting_items_1877:
  - 'a:0:{}'
newsarticle_items_1877:
  - 'a:0:{}'
tech_article_items_1877:
  - 'a:0:{}'
product_reviews_1877:
  - 'a:0:{}'
feed_element_1877:
  - 'a:0:{}'
faq_question_1877:
  - 'a:0:{}'
performer_1877:
  - 'a:0:{}'
accepted_answer_1877:
  - 'a:0:{}'
suggested_answer_1877:
  - 'a:0:{}'
howto_supply_1877:
  - 'a:0:{}'
howto_tool_1877:
  - 'a:0:{}'
howto_step_1877:
  - 'a:0:{}'
announcement_location_1877:
  - 'a:0:{}'
music_playlist_track_1877:
  - 'a:0:{}'
music_album_track_1877:
  - 'a:0:{}'
apartment_amenities_1877:
  - 'a:0:{}'
additional_property_1877:
  - 'a:0:{}'
mc_cause_1877:
  - 'a:0:{}'
mc_symptom_1877:
  - 'a:0:{}'
mc_risk_factor_1877:
  - 'a:0:{}'
tvseries_actor_1877:
  - 'a:0:{}'
tvseries_season_1877:
  - 'a:0:{}'
trip_itinerary_1877:
  - 'a:0:{}'
itemlist_item_1494:
  - 'a:0:{}'
music_composer_1494:
  - 'a:0:{}'
movie_actor_1494:
  - 'a:0:{}'
article_items_1494:
  - 'a:0:{}'
image_object_exif_data_1494:
  - 'a:0:{}'
blogposting_items_1494:
  - 'a:0:{}'
newsarticle_items_1494:
  - 'a:0:{}'
tech_article_items_1494:
  - 'a:0:{}'
product_reviews_1494:
  - 'a:0:{}'
feed_element_1494:
  - 'a:0:{}'
faq_question_1494:
  - 'a:0:{}'
performer_1494:
  - 'a:0:{}'
accepted_answer_1494:
  - 'a:0:{}'
suggested_answer_1494:
  - 'a:0:{}'
howto_supply_1494:
  - 'a:0:{}'
howto_tool_1494:
  - 'a:0:{}'
howto_step_1494:
  - 'a:0:{}'
announcement_location_1494:
  - 'a:0:{}'
music_playlist_track_1494:
  - 'a:0:{}'
music_album_track_1494:
  - 'a:0:{}'
apartment_amenities_1494:
  - 'a:0:{}'
additional_property_1494:
  - 'a:0:{}'
mc_cause_1494:
  - 'a:0:{}'
mc_symptom_1494:
  - 'a:0:{}'
mc_risk_factor_1494:
  - 'a:0:{}'
tvseries_actor_1494:
  - 'a:0:{}'
tvseries_season_1494:
  - 'a:0:{}'
trip_itinerary_1494:
  - 'a:0:{}'
itemlist_item_1493:
  - 'a:0:{}'
music_composer_1493:
  - 'a:0:{}'
movie_actor_1493:
  - 'a:0:{}'
article_items_1493:
  - 'a:0:{}'
image_object_exif_data_1493:
  - 'a:0:{}'
blogposting_items_1493:
  - 'a:0:{}'
newsarticle_items_1493:
  - 'a:0:{}'
tech_article_items_1493:
  - 'a:0:{}'
product_reviews_1493:
  - 'a:0:{}'
feed_element_1493:
  - 'a:0:{}'
faq_question_1493:
  - 'a:0:{}'
performer_1493:
  - 'a:0:{}'
accepted_answer_1493:
  - 'a:0:{}'
suggested_answer_1493:
  - 'a:0:{}'
howto_supply_1493:
  - 'a:0:{}'
howto_tool_1493:
  - 'a:0:{}'
howto_step_1493:
  - 'a:0:{}'
announcement_location_1493:
  - 'a:0:{}'
music_playlist_track_1493:
  - 'a:0:{}'
music_album_track_1493:
  - 'a:0:{}'
apartment_amenities_1493:
  - 'a:0:{}'
additional_property_1493:
  - 'a:0:{}'
mc_cause_1493:
  - 'a:0:{}'
mc_symptom_1493:
  - 'a:0:{}'
mc_risk_factor_1493:
  - 'a:0:{}'
tvseries_actor_1493:
  - 'a:0:{}'
tvseries_season_1493:
  - 'a:0:{}'
trip_itinerary_1493:
  - 'a:0:{}'
rank_math_internal_links_processed:
  - "1"
ampforwp-amp-on-off:
  - default
rank_math_seo_score:
  - "92"
rank_math_focus_keyword:
  - Bitmap
ads-for-wp-visibility:
  - show
itemlist_item_2757:
  - 'a:0:{}'
music_composer_2757:
  - 'a:0:{}'
movie_actor_2757:
  - 'a:0:{}'
article_items_2757:
  - 'a:0:{}'
image_object_exif_data_2757:
  - 'a:0:{}'
blogposting_items_2757:
  - 'a:0:{}'
newsarticle_items_2757:
  - 'a:0:{}'
tech_article_items_2757:
  - 'a:0:{}'
product_reviews_2757:
  - 'a:0:{}'
feed_element_2757:
  - 'a:0:{}'
faq_question_2757:
  - 'a:0:{}'
performer_2757:
  - 'a:0:{}'
organizer_2757:
  - 'a:0:{}'
accepted_answer_2757:
  - 'a:0:{}'
suggested_answer_2757:
  - 'a:0:{}'
howto_supply_2757:
  - 'a:0:{}'
howto_tool_2757:
  - 'a:0:{}'
howto_step_2757:
  - 'a:0:{}'
announcement_location_2757:
  - 'a:0:{}'
music_playlist_track_2757:
  - 'a:0:{}'
music_album_track_2757:
  - 'a:0:{}'
apartment_amenities_2757:
  - 'a:0:{}'
additional_property_2757:
  - 'a:0:{}'
mc_cause_2757:
  - 'a:0:{}'
mc_symptom_2757:
  - 'a:0:{}'
mc_risk_factor_2757:
  - 'a:0:{}'
tvseries_actor_2757:
  - 'a:0:{}'
tvseries_season_2757:
  - 'a:0:{}'
trip_itinerary_2757:
  - 'a:0:{}'
organizer_1877:
  - 'a:0:{}'
organizer_1494:
  - 'a:0:{}'
organizer_1493:
  - 'a:0:{}'
rank_math_analytic_object_id:
  - "68"
categories:
  - Informatique
tags:
  - Bitmap
  - Matrice
  - Numpy
  - Python
  - Tutoriel

---
Une image matricielle, ou ¬´ carte de points ¬ª (de l&rsquo;anglais bitmap), est une image constitu√©e d&rsquo;une matrice de points color√©s. Cela signifie qu&rsquo;elle est constitu√©e d&rsquo;un tableau, d&rsquo;une grille, o√π chaque case poss√®de une couleur qui lui est propre et est consid√©r√©e comme un point. (Wikip√©dia). Saviez-vous qu&rsquo;il √©tait possible de modifier cette bitmap tr√®s facilement en Python ? üôÇ

## T√©l√©charger une image

Je vous propose de modifier l&rsquo;image que j&rsquo;ai utilis√© pour [mon article sur l&rsquo;id√©e re√ßu des 5 sens][1]{.rank-math-link} : [Celle-ci][2]{.rank-math-link}.

<div class="wp-block-image">
  <figure class="aligncenter size-large is-resized"><img loading="lazy" src="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg" alt="" class="wp-image-1511" width="353" height="235" srcset="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg 1024w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-300x200.jpeg 300w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-768x512.jpeg 768w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1536x1024.jpeg 1536w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-2048x1365.jpeg 2048w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1568x1045.jpeg 1568w" sizes="(max-width: 353px) 100vw, 353px" /><figcaption>Chat Surpris</figcaption></figure>
</div>

Il n&rsquo;est pas n√©cessaire de la t√©l√©charger, je vais vous montrer comment le faire avec Python directement. 

Tout d&rsquo;abord, ouvrez un nouveau fichier python dans votre IDE pr√©f√©r√©. Jupyter Notebook est probablement la meilleure alternative :). 

Entrez ce code. 

<pre class="wp-block-code" aria-describedby="shcb-language-71" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">&lt;span class="hljs-keyword">from&lt;/span> PIL &lt;span class="hljs-keyword">import&lt;/span> Image
  &lt;span class="hljs-keyword">import&lt;/span> requests
  &lt;span class="hljs-keyword">from&lt;/span> io &lt;span class="hljs-keyword">import&lt;/span> BytesIO
  
  Url = &lt;span class="hljs-string">'https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1384x752.jpeg'&lt;/span>
  
  response = requests.get(Url)
  ImgDL = Image.open(BytesIO(response.content))
  ImgDL.save(&lt;span class="hljs-string">"chat.jpeg"&lt;/span>)</code>
</div>

<small class="shcb-language" id="shcb-language-71"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

Dans vos fichiers, vous pouvez maintenant trouver ¬´¬†chat.jpeg¬†¬ª. 

Je vous propose de faire une copie de ImgDL pour pouvoir r√©utiliser ImgDL plus tard si besoin.

<pre class="wp-block-code" aria-describedby="shcb-language-72" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">&lt;span class="hljs-keyword">import&lt;/span> numpy &lt;span class="hljs-keyword">as&lt;/span> np
  newImg = np.copy(ImgDL)</code>
</div>

<small class="shcb-language" id="shcb-language-72"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

## Afficher les valeurs de la Bitmap 

Pour afficher le tableau associ√© √† l&rsquo;image, rien de compliqu√© : 

<pre class="wp-block-code" aria-describedby="shcb-language-73" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">newImg</code>
</div>

<small class="shcb-language" id="shcb-language-73"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

On peut remarquer que newImg contient un array (l&rsquo;image) d&rsquo;array (de lignes) d&rsquo;array (pixel). Chaque pixel √©tant un triplet, Rouge, Vert, Bleu. Les lignes sont repr√©sent√©es de haut en bas.

## Modifier la Bitmap

### Cr√©er une ligne noire 

Il suffit de rendre tous les pixels de la premi√®re ligne √©gaux √† [0,0,0].

Pour cela, rien de tr√®s compliqu√© : 

#### Code : 

<pre class="wp-block-code" aria-describedby="shcb-language-74" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">newImg[&lt;span class="hljs-number">0&lt;/span>, &lt;span class="hljs-number">0&lt;/span>:] = [&lt;span class="hljs-number">0&lt;/span>, &lt;span class="hljs-number">0&lt;/span>, &lt;span class="hljs-number">0&lt;/span>]
  
  imgF = Image.fromarray(newImg, &lt;span class="hljs-string">'RGB'&lt;/span>)
  imgF.save(&lt;span class="hljs-string">'LigneNoire.png'&lt;/span>)
  newImg</code>
</div>

<small class="shcb-language" id="shcb-language-74"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

#### Comparaison : 

<div class="wp-block-columns">
  <div class="wp-block-column">
    <figure class="wp-block-image size-large is-resized"><img loading="lazy" src="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg" alt="" class="wp-image-1511" width="362" height="241" srcset="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg 1024w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-300x200.jpeg 300w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-768x512.jpeg 768w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1536x1024.jpeg 1536w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-2048x1365.jpeg 2048w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1568x1045.jpeg 1568w" sizes="(max-width: 362px) 100vw, 362px" /><figcaption>Chat Surpris</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="683" src="https://keskec.fr/wp-content/uploads/2020/05/ligne-1024x683.png" alt="" class="wp-image-2165" srcset="https://keskec.fr/wp-content/uploads/2020/05/ligne-1024x683.png 1024w, https://keskec.fr/wp-content/uploads/2020/05/ligne-300x200.png 300w, https://keskec.fr/wp-content/uploads/2020/05/ligne-768x512.png 768w, https://keskec.fr/wp-content/uploads/2020/05/ligne-1536x1024.png 1536w, https://keskec.fr/wp-content/uploads/2020/05/ligne-2048x1365.png 2048w, https://keskec.fr/wp-content/uploads/2020/05/ligne-1568x1045.png 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Chat Surpris avec la premi√®re ligne en noir</figcaption></figure>
  </div>
</div>

A peine visible, il y a bien une premi√®re ligne noir sur la photo de droite :). 

### Rendre l&rsquo;image rouge

Pour rendre une image ¬´¬†rouge¬†¬ª, il faut que la premi√®re valeur de chaque pixel soit √©gale √† sa valeur maximal. Autrement dit, il faut que le rouge soit √©gal √† 255 pour chaque pixel.

#### Code :

<pre class="wp-block-code" aria-describedby="shcb-language-75" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">newImg[&lt;span class="hljs-number">0&lt;/span>, &lt;span class="hljs-number">0&lt;/span>:] = [&lt;span class="hljs-number">0&lt;/span>,&lt;span class="hljs-number">0&lt;/span>,&lt;span class="hljs-number">0&lt;/span>]
  imgF = Image.fromarray(newImg, &lt;span class="hljs-string">'RGB'&lt;/span>)
  imgF.save(&lt;span class="hljs-string">'Rouge.png'&lt;/span>)
  imgF</code>
</div>

<small class="shcb-language" id="shcb-language-75"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

#### Comparaison :

<div class="wp-block-columns">
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="683" src="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg" alt="" class="wp-image-1511" srcset="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg 1024w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-300x200.jpeg 300w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-768x512.jpeg 768w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1536x1024.jpeg 1536w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-2048x1365.jpeg 2048w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1568x1045.jpeg 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Chat Surpris</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="683" src="https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-1024x683.png" alt="" class="wp-image-2171" srcset="https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-1024x683.png 1024w, https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-300x200.png 300w, https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-768x512.png 768w, https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-1536x1024.png 1536w, https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-2048x1365.png 2048w, https://keskec.fr/wp-content/uploads/2020/05/t√©l√©chargement-1568x1045.png 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Chat Surpris Rouge</figcaption></figure>
  </div>
</div>

### Faire un n√©gatif de l&rsquo;image 

Pour obtenir le n√©gatif d‚Äôune image, il faut que chaque valeur soit remplac√©e par 255 moins sa valeur. Par exemple si pour le vert du pixel, sa valeur est 250, son n√©gatif sera 255-250 = 5. Ainsi, il faut faire : 

#### Code : 

<pre class="wp-block-code" aria-describedby="shcb-language-76" data-shcb-language-name="Python" data-shcb-language-slug="python"><div>
  <code class="hljs language-python">newImg[&lt;span class="hljs-number">0&lt;/span>:, &lt;span class="hljs-number">0&lt;/span>:, &lt;span class="hljs-number">0&lt;/span>:] = &lt;span class="hljs-number">255&lt;/span> - newImg[&lt;span class="hljs-number">0&lt;/span>:, &lt;span class="hljs-number">0&lt;/span>:, &lt;span class="hljs-number">0&lt;/span>:]
  imgF = Image.fromarray(newImg, &lt;span class="hljs-string">'RGB'&lt;/span>)
  imgF.save(&lt;span class="hljs-string">'Rouge.png'&lt;/span>)
  imgF</code>
</div>

<small class="shcb-language" id="shcb-language-76"><span class="shcb-language__label">Code language:</span> <span class="shcb-language__name">Python</span> <span class="shcb-language__paren">(</span><span class="shcb-language__slug">python</span><span class="shcb-language__paren">)</span></small></pre>

#### Comparaison :

<div class="wp-block-columns">
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="683" src="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg" alt="" class="wp-image-1511" srcset="https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1024x683.jpeg 1024w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-300x200.jpeg 300w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-768x512.jpeg 768w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1536x1024.jpeg 1536w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-2048x1365.jpeg 2048w, https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1568x1045.jpeg 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Image Originale</figcaption></figure>
  </div>
  
  <div class="wp-block-column">
    <figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="683" src="https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-1024x683.png" alt="" class="wp-image-2144" srcset="https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-1024x683.png 1024w, https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-300x200.png 300w, https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-768x512.png 768w, https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-1536x1024.png 1536w, https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-2048x1365.png 2048w, https://keskec.fr/wp-content/uploads/2020/05/Chat-Surpris-Neg-1568x1045.png 1568w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption>Image N√©gative</figcaption></figure>
  </div>
</div>

## Le fichier sur GitHub : 

<p class="has-text-align-center">
  <a href="https://gist.github.com/RobinPourtaud/5036f9a5dfcff7fa43be1ec6ccae1484" class="rank-math-link">https://gist.github.com/RobinPourtaud/5036f9a5dfcff7fa43be1ec6ccae1484</a>
</p>

## Plus de filtres ?

<p class="has-text-align-center">
  <a href="https://keskec.fr/sciences/informatique/robin/2524/" class="rank-math-link">Seuillage en Python 3</a>
</p>

## Sources : 

  * <https://stackoverflow.com/questions/3493092/convert-image-to-a-matrix-in-python>
  * <https://stackoverflow.com/questions/2659312/how-do-i-convert-a-numpy-array-to-and-display-an-image>
  * <https://www.pexels.com/photo/photo-of-gray-and-white-tabby-kitten-sitting-on-sofa-2194261/>

 [1]: https://keskec.fr/sciences/biologie/robin/1101/
 [2]: https://keskec.fr/wp-content/uploads/2020/05/pexels-photo-2194261-1384x752.jpeg